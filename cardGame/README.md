# 카드 색 맞추기 게임의 핵심 개념
---
## 코드 실행 순서 파악을 위한 개념들
### 1. 백그라운드(background)
- 타이머를 처리하고 이벤트 리스너를 저장하는 공간
- setTimeout같은 함수가 실행되면 백그라운드에서 시간을 재고, 시간이 되면 setTimeout의 콜백 함수를 태스크 큐로 보냄
- addEventListener로 추가한 이벤트를 저장했다가, 이벤트가 발생하면 콜백 함수를 태스크 큐로 보냄
- 백그라운드에서 코드를 실행하는 것이 아닌, 실행될 콜백 함수들이 태스크 큐에 들어감
- 백그라운드는 시간을 재서 1초가 지나면 타이머의 콜백 함수를 태스크 큐로 보냄
- 태스크 큐로 콜백 함수를 보낸 타이머는 백그라운드에서 제거됨

### 2. 태스크 큐(task queue)
- 실행돼야 할 콜백 함수들이 줄 서서 대기하고 있는 공간
- 먼저 들어온 함수부터 실행됨. 단, 태스크 큐도 함수를 직접 실행하지 않음
- 함수는 모두 호출 스택에서만 실행 됨 
- 시간이 다 되었다고 전부 호출 스택으로 올라가는 것이 아닌, **이전 함수가 끝나서 호출 스택이 비어 있어야만 태스크 큐의 함수가 호출 스택으로 올라감**

### 3. 이벤트 루프(event loop)
- 비동기 코드를 담당
- 태스크 큐에서 호출 스택으로 함수를 이동시키는 존재 
- 호출 스택이 비어 있으면 이벤트 루프는 태스크 큐에서 함수를 하나씩 꺼내 호출 스택에 옮김

### 4. 호출 스택(call stack)
- 호출 스택으로 이동한 함수는 실행됨
- 실행이 완료된 함수는 호출 스택에서 빠져나감
- 호출 스택이 비면 이벤트 루프는 태스크 큐에 있는 다음 함수를 호출 스택으로 옮김
- **호출 스택에서는 동기 코드만 따져야 함**


## 함수의 호출 스택을 보여주는 메서드: `console.trace()`
